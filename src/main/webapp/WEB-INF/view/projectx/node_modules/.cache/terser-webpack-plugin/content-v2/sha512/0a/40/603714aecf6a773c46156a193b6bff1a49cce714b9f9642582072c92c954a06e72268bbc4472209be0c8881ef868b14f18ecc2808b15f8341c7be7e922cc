{"map":"{\"version\":3,\"sources\":[\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/node_modules/file-loader/dist/cjs.js??ref--6-oneOf-7!/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/logo.svg\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Home.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Schedule.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Login.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Register.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Main.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/Header.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/App.js\",\"/Users/ocean/Documents/KTH/Nätverksprogrammering/project/src/main/webapp/WEB-INF/view/projectx/src/index.js\"],\"names\":[\"module\",\"exports\",\"__webpack_require__\",\"p\",\"Home\",\"react_default\",\"a\",\"createElement\",\"Schedule\",\"Login\",\"props\",\"_this\",\"Object\",\"classCallCheck\",\"this\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"state\",\"authenticatedUser\",\"username\",\"password\",\"redirectToReferrer\",\"handleInputChange\",\"bind\",\"assertThisInitialized\",\"updateUser\",\"logOut\",\"prevProps\",\"equal\",\"setState\",\"event\",\"target\",\"value\",\"type\",\"checked\",\"name\",\"defineProperty\",\"console\",\"log\",\"onSubmit\",\"handleSubmit\",\"onChange\",\"onClick\",\"preventDefault\",\"data\",\"FormData\",\"fetch\",\"method\",\"body\",\"Component\",\"Register\",\"role\",\"headers\",\"Accept\",\"Content-Type\",\"JSON\",\"stringify\",\"auth\",\"isAuthenticated\",\"authenticate\",\"cb\",\"then\",\"response\",\"json\",\"responseJson\",\"signout\",\"_this2\",\"PrivateRoute\",\"withRouter\",\"_ref\",\"history\",\"_ref2\",\"component\",\"rest\",\"objectWithoutProperties\",\"Route\",\"assign\",\"render\",\"Redirect\",\"to\",\"Main\",\"Switch\",\"exact\",\"path\",\"Main_PrivateRoute\",\"src_Login\",\"authenticated\",\"Header\",\"Link\",\"App\",\"src_Header\",\"src_Main\",\"BrowserRouter\",\"src_App_0\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"module.exports = __webpack_public_path__ + \\\"static/media/logo.5d5d9eef.svg\\\";\",\"import React from 'react'\\n\\nconst Home = () => (\\n    <div>\\n        <h1>Welcome to the Tornadoes Website!</h1>\\n    </div>\\n)\\n\\nexport default Home\",\"import React from 'react'\\n\\nconst Schedule = () => (\\n    <div>\\n        <ul>\\n            <li>6/5 @ Evergreens</li>\\n            <li>6/8 vs Kickers</li>\\n            <li>6/14 @ United</li>\\n        </ul>\\n    </div>\\n)\\n\\nexport default Schedule\",\"import React, { Component } from 'react'\\nimport equal from 'fast-deep-equal'\\n\\nclass Login extends Component {\\n\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            authenticatedUser: \\\"\\\",\\n            username: \\\"\\\",\\n            password: \\\"\\\",\\n            redirectToReferrer: false\\n        };\\n\\n        this.handleInputChange = this.handleInputChange.bind(this);\\n        this.updateUser = this.updateUser.bind(this);\\n        this.logOut = this.logOut.bind(this);\\n    }\\n\\n    componentDidMount() {\\n        this.updateUser();\\n\\n    }\\n\\n    componentDidUpdate(prevProps) {\\n        if(!equal(this.props.username, prevProps.username))\\n        {\\n            this.updateUser();\\n        }\\n    }\\n\\n    updateUser() {\\n        this.setState({authenticatedUser: this.props.username})\\n    }\\n\\n    handleInputChange(event) {\\n        const target = event.target;\\n        const value = target.type === 'checkbox' ? target.checked : target.value;\\n        const name = target.name;\\n\\n        this.setState({\\n            [name]: value\\n        });\\n    }\\n\\n    render() {\\n        console.log(this.props);\\n        if(this.state.authenticatedUser === \\\"\\\"){\\n            return (\\n                <form onSubmit={this.handleSubmit}>\\n                    <label>\\n                        Username:\\n                        <input\\n                            name=\\\"username\\\"\\n                            type=\\\"text\\\"\\n                            value={this.state.username}\\n                            onChange={this.handleInputChange} />\\n                    </label>\\n                    <br />\\n                    <label>\\n                        Password:\\n                        <input\\n                            name=\\\"password\\\"\\n                            type=\\\"text\\\"\\n                            value={this.state.password}\\n                            onChange={this.handleInputChange} />\\n                    </label>\\n                    <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\n                </form>\\n            );\\n        }\\n        else{\\n            return (\\n                <button onClick={this.logOut}>\\n                    LOG OUT\\n                </button>\\n            );\\n        }\\n    }\\n\\n    handleSubmit(event) {\\n        event.preventDefault();\\n        const data = new FormData(event.target);\\n        fetch('/perform_login', {\\n            method: 'POST',\\n            body: data,\\n        });\\n    }\\n\\n    logOut() {\\n        fetch('/perform_logout');\\n        this.setState({authenticatedUser: \\\"\\\"});\\n\\n    }\\n}\\n\\n\\nexport default Login\",\"import React, { Component } from 'react'\\n\\nclass Register extends Component {\\n\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            username: \\\"\\\",\\n            password: \\\"\\\",\\n            role: \\\"ROLE_USER\\\"\\n        };\\n\\n        this.handleInputChange = this.handleInputChange.bind(this);\\n    }\\n\\n    handleInputChange(event) {\\n        const target = event.target;\\n        const value = target.value;\\n        const name = target.name;\\n\\n        this.setState({\\n            [name]: value\\n        });\\n    }\\n\\n    render() {\\n        return (\\n            <form onSubmit={this.handleSubmit}>\\n                <label>\\n                    Username:\\n                    <input\\n                        name=\\\"username\\\"\\n                        type=\\\"text\\\"\\n                        value={this.state.username}\\n                        onChange={this.handleInputChange} />\\n                </label>\\n                <br />\\n                <label>\\n                    Password:\\n                    <input\\n                        name=\\\"password\\\"\\n                        type=\\\"text\\\"\\n                        value={this.state.password}\\n                        onChange={this.handleInputChange} />\\n                </label>\\n                <label>\\n                    Choose privileges:\\n                    <select name=\\\"role\\\"\\n                            value={this.state.role}\\n                            onChange={this.handleInputChange}>\\n                        <option value=\\\"ROLE_USER\\\">USER</option>\\n                        <option value=\\\"ROLE_ADMIN\\\">ADMIN</option>\\n                    </select>\\n                </label>\\n                <input type=\\\"submit\\\" value=\\\"Submit\\\" />\\n            </form>\\n        );\\n    }\\n\\n    handleSubmit(event) {\\n        // event.preventDefault();\\n        // const data = new FormData(event.target);\\n        //\\n        // fetch('/registration', {\\n        //     method: 'POST',\\n        //     body: data,\\n        // });\\n        fetch('/roles', {\\n            method: 'GET',\\n            headers: {\\n                'Accept': 'application/json',\\n                'Content-Type': 'application/json',\\n            },\\n            body: JSON.stringify({\\n                username: event.target.username.value,\\n                // password: event.target.password.value,\\n                // role: event.target.role.value\\n            })\\n        })\\n    }\\n}\\n\\n\\nexport default Register\",\"import React, {Component} from 'react'\\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom'\\nimport Home from './Home'\\nimport Schedule from './Schedule'\\nimport Login from './Login'\\nimport Register from './Register'\\n\\nconst auth = {\\n    isAuthenticated: false,\\n    username: \\\"\\\",\\n    authenticate(cb) {\\n        console.log(\\\"MJAU\\\");\\n        fetch('/roles')\\n            .then((response) => response.json())\\n            .then((responseJson) => {\\n                if(responseJson.username !== null){\\n                    console.log(responseJson.username)\\n                    this.isAuthenticated = true;\\n                    this.username = responseJson.username;\\n                }\\n\\n            })\\n    },\\n    signout(cb) {\\n        this.isAuthenticated = false\\n        fetch('/perform_logout')\\n            .then((response) => response.json())\\n            .then((responseJson) => {\\n                if(responseJson.username !== null)\\n                    this.isAuthenticated = true;\\n            })\\n    }\\n}\\n\\nconst logOutButton = withRouter(({ history }) => (\\n    auth.isAuthenticated ? (\\n        <p>\\n            Welcome! <button onClick={() => {\\n            auth.signout()\\n        }}>Sign out</button>\\n        </p>\\n    ) : (\\n        <p>You are not logged in.</p>\\n    )\\n))\\n\\nconst PrivateRoute = ({ component: Component, ...rest }) => (\\n    <Route {...rest} render={(props) => (\\n        auth.authenticate(),\\n        auth.isAuthenticated === true\\n            ? <Component {...props} />\\n            : <Redirect to='/login' />\\n    )} />\\n)\\n\\nconst Main = () => (\\n    <main>\\n        <Switch>\\n            <Route exact path='/' component={Home}/>\\n            <PrivateRoute path='/schedule' component={Schedule}/>\\n            <Route exact path='/login' render={(props) => (\\n                <Login {...props} authenticated={auth.isAuthenticated} username={auth.username} />\\n            )} />\\n            <Route path='/register' component={Register}/>\\n        </Switch>\\n    </main>\\n)\\nexport {\\n    logOutButton,\\n}\\nexport default Main\",\"import React from 'react'\\nimport { Link } from 'react-router-dom'\\nimport Main, {logOutButton} from './Main.js'\\n\\n// The Header creates links that can be used to navigate\\n// between routes.\\nconst Header = () => (\\n    <header>\\n        <nav>\\n            <ul>\\n                <logOutButton/>\\n                <li><Link to='/'>Home</Link></li>\\n                <li><Link to='/schedule'>Schedule</Link></li>\\n                <li><Link to='/login'>Log in/out</Link></li>\\n                <li><Link to='/register'>Register</Link></li>\\n            </ul>\\n        </nav>\\n    </header>\\n)\\n\\nexport default Header\",\"import React, { Component } from 'react';\\nimport logo from './logo.svg';\\nimport './App.css';\\nimport Header from './Header'\\nimport Main from './Main'\\n\\nclass App extends Component {\\n  render() {\\n    return (\\n        <div>\\n            <Header />\\n            <Main />\\n        </div>\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"import React from 'react'\\nimport { render } from 'react-dom'\\nimport { BrowserRouter } from 'react-router-dom'\\nimport App from './App';\\n\\nrender((\\n    <BrowserRouter>\\n        <App />\\n    </BrowserRouter>\\n), document.getElementById('root'));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(34)},28:function(e,t,n){e.exports=n.p+\"static/media/logo.5d5d9eef.svg\"},29:function(e,t,n){},34:function(e,t,n){\"use strict\";n.r(t);var a=n(0),l=n.n(a),r=n(18),u=n(37),c=n(7),o=n(8),i=n(10),s=n(9),m=n(11),h=(n(28),n(29),n(36)),p=n(21),d=n(39),E=n(35),b=n(38),g=n(40),f=function(){return l.a.createElement(\"div\",null,l.a.createElement(\"h1\",null,\"Welcome to the Tornadoes Website!\"))},O=function(){return l.a.createElement(\"div\",null,l.a.createElement(\"ul\",null,l.a.createElement(\"li\",null,\"6/5 @ Evergreens\"),l.a.createElement(\"li\",null,\"6/8 vs Kickers\"),l.a.createElement(\"li\",null,\"6/14 @ United\")))},v=n(12),j=n(5),y=n(19),C=n.n(y),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={authenticatedUser:\"\",username:\"\",password:\"\",redirectToReferrer:!1},n.handleInputChange=n.handleInputChange.bind(Object(j.a)(Object(j.a)(n))),n.updateUser=n.updateUser.bind(Object(j.a)(Object(j.a)(n))),n.logOut=n.logOut.bind(Object(j.a)(Object(j.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"componentDidMount\",value:function(){this.updateUser()}},{key:\"componentDidUpdate\",value:function(e){C()(this.props.username,e.username)||this.updateUser()}},{key:\"updateUser\",value:function(){this.setState({authenticatedUser:this.props.username})}},{key:\"handleInputChange\",value:function(e){var t=e.target,n=\"checkbox\"===t.type?t.checked:t.value,a=t.name;this.setState(Object(v.a)({},a,n))}},{key:\"render\",value:function(){return console.log(this.props),\"\"===this.state.authenticatedUser?l.a.createElement(\"form\",{onSubmit:this.handleSubmit},l.a.createElement(\"label\",null,\"Username:\",l.a.createElement(\"input\",{name:\"username\",type:\"text\",value:this.state.username,onChange:this.handleInputChange})),l.a.createElement(\"br\",null),l.a.createElement(\"label\",null,\"Password:\",l.a.createElement(\"input\",{name:\"password\",type:\"text\",value:this.state.password,onChange:this.handleInputChange})),l.a.createElement(\"input\",{type:\"submit\",value:\"Submit\"})):l.a.createElement(\"button\",{onClick:this.logOut},\"LOG OUT\")}},{key:\"handleSubmit\",value:function(e){e.preventDefault();var t=new FormData(e.target);fetch(\"/perform_login\",{method:\"POST\",body:t})}},{key:\"logOut\",value:function(){fetch(\"/perform_logout\"),this.setState({authenticatedUser:\"\"})}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={username:\"\",password:\"\",role:\"ROLE_USER\"},n.handleInputChange=n.handleInputChange.bind(Object(j.a)(Object(j.a)(n))),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"handleInputChange\",value:function(e){var t=e.target,n=t.value,a=t.name;this.setState(Object(v.a)({},a,n))}},{key:\"render\",value:function(){return l.a.createElement(\"form\",{onSubmit:this.handleSubmit},l.a.createElement(\"label\",null,\"Username:\",l.a.createElement(\"input\",{name:\"username\",type:\"text\",value:this.state.username,onChange:this.handleInputChange})),l.a.createElement(\"br\",null),l.a.createElement(\"label\",null,\"Password:\",l.a.createElement(\"input\",{name:\"password\",type:\"text\",value:this.state.password,onChange:this.handleInputChange})),l.a.createElement(\"label\",null,\"Choose privileges:\",l.a.createElement(\"select\",{name:\"role\",value:this.state.role,onChange:this.handleInputChange},l.a.createElement(\"option\",{value:\"ROLE_USER\"},\"USER\"),l.a.createElement(\"option\",{value:\"ROLE_ADMIN\"},\"ADMIN\"))),l.a.createElement(\"input\",{type:\"submit\",value:\"Submit\"}))}},{key:\"handleSubmit\",value:function(e){fetch(\"/roles\",{method:\"GET\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({username:e.target.username.value})})}}]),t}(a.Component),U={isAuthenticated:!1,username:\"\",authenticate:function(e){var t=this;console.log(\"MJAU\"),fetch(\"/roles\").then(function(e){return e.json()}).then(function(e){null!==e.username&&(console.log(e.username),t.isAuthenticated=!0,t.username=e.username)})},signout:function(e){var t=this;this.isAuthenticated=!1,fetch(\"/perform_logout\").then(function(e){return e.json()}).then(function(e){null!==e.username&&(t.isAuthenticated=!0)})}},w=(Object(d.a)(function(e){e.history;return U.isAuthenticated?l.a.createElement(\"p\",null,\"Welcome! \",l.a.createElement(\"button\",{onClick:function(){U.signout()}},\"Sign out\")):l.a.createElement(\"p\",null,\"You are not logged in.\")}),function(e){var t=e.component,n=Object(p.a)(e,[\"component\"]);return l.a.createElement(E.a,Object.assign({},n,{render:function(e){return U.authenticate(),!0===U.isAuthenticated?l.a.createElement(t,e):l.a.createElement(b.a,{to:\"/login\"})}}))}),I=function(){return l.a.createElement(\"main\",null,l.a.createElement(g.a,null,l.a.createElement(E.a,{exact:!0,path:\"/\",component:f}),l.a.createElement(w,{path:\"/schedule\",component:O}),l.a.createElement(E.a,{exact:!0,path:\"/login\",render:function(e){return l.a.createElement(S,Object.assign({},e,{authenticated:U.isAuthenticated,username:U.username}))}}),l.a.createElement(E.a,{path:\"/register\",component:k})))},A=function(){return l.a.createElement(\"header\",null,l.a.createElement(\"nav\",null,l.a.createElement(\"ul\",null,l.a.createElement(\"logOutButton\",null),l.a.createElement(\"li\",null,l.a.createElement(h.a,{to:\"/\"},\"Home\")),l.a.createElement(\"li\",null,l.a.createElement(h.a,{to:\"/schedule\"},\"Schedule\")),l.a.createElement(\"li\",null,l.a.createElement(h.a,{to:\"/login\"},\"Log in/out\")),l.a.createElement(\"li\",null,l.a.createElement(h.a,{to:\"/register\"},\"Register\")))))},x=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:\"render\",value:function(){return l.a.createElement(\"div\",null,l.a.createElement(A,null),l.a.createElement(I,null))}}]),t}(a.Component);Object(r.render)(l.a.createElement(u.a,null,l.a.createElement(x,null)),document.getElementById(\"root\"))}},[[22,2,1]]]);","extractedComments":[]}